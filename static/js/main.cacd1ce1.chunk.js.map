{"version":3,"sources":["App.js","index.js"],"names":["App","props","getImage","a","image","document","getElementById","value","console","log","setState","state","user","bridge","send","then","window","history","pushState","title","this","activePanel","id","status","before","size","src","photo_100","first_name","header","mode","weight","type","onClick","style","textAlign","alt","referrerpolicy","React","Component","ReactDOM","render"],"mappings":"uTAmGeA,G,yDA9Ed,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IAmBPC,SApBmB,sBAoBR,4BAAAC,EAAA,sDACEC,EAAQC,SAASC,eAAe,OAAOC,MAE7CC,QAAQC,IAAI,CAACL,UAETA,GACT,EAAKM,SAAS,CAAEN,UANP,2CAjBV,EAAKO,MAAQ,CACZC,KAAM,MAJW,E,gEAWE,IAAD,OACbC,IAAOC,KAAK,sBAAuB,IAC/BC,MAAK,SAACH,GACH,EAAKF,SAAS,CAAEE,YAEpBI,OAAOC,QAAQC,UAAU,GAAIb,SAASc,MAAO,O,+BAc7C,IAAD,EACgBC,KAAKT,MAArBC,EADA,EACAA,KAAMR,EADN,EACMA,MAEd,OACU,kBAAC,IAAD,CAAMiB,YAAY,QACd,kBAAC,IAAD,CAAOC,GAAG,QACN,kBAAC,IAAD,KAEQV,EACI,kBAAC,IAAD,CACIW,OAAO,wBACPC,OAAS,kBAAC,IAAD,CAAQC,KAAO,GAAKC,IAAMd,EAAKe,aAEtCf,EAAKgB,YAGnC,yBAIY,kBAAC,IAAD,CAAOC,OAAS,kBAAC,IAAD,CAAQC,KAAK,aAAb,+CAC9B,kBAAC,IAAD,okDAGA,kBAAC,IAAD,0TAC8E,kBAAC,IAAD,CAAMC,OAAO,YAAb,kCAD9E,4QAIkB,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,KAAK,OAAOV,GAAG,QAEtB,kBAAC,IAAD,CAAQG,KAAK,KAAKQ,QAAUb,KAAKlB,UAAjC,6DAInBE,GACF,kBAAC,IAAD,CAAK8B,MAAO,CAAEC,UAAW,WACA,yBAAKT,IAAMtB,EAAQgC,IAAI,cAAcC,eAAe,wB,GArElEC,IAAMC,YCZxB1B,IAAOC,KAAK,eAAgB,IAE5B0B,IAASC,OAAO,kBAAC,EAAD,MAASpC,SAASC,eAAe,W","file":"static/js/main.cacd1ce1.chunk.js","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport {\n    Avatar,\n    Button,\n    Div,\n    FormLayout,\n    Group,\n    Header,\n    Input,\n    Panel,\n    PanelHeader,\n    PanelHeaderContent,\n    Text,\n    View\n} from '@vkontakte/vkui';\n\nimport '@vkontakte/vkui/dist/vkui.css';\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuser: null\n\t\t};\n\n\n\n\t}\n\n\tcomponentDidMount() {\n        bridge.send('VKWebAppGetUserInfo', {})\n           .then((user) => {\n               this.setState({ user });\n           });\n           window.history.pushState({}, document.title, \"/\");\n\n\t}\n\n\tgetImage = async () => {\n        const image = document.getElementById('url').value;\n\n        console.log({image});\n\n        if (image) {\n\t\t\tthis.setState({ image });\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { user, image } = this.state;\n\n\t\treturn (\n            <View activePanel=\"main\">\n                <Panel id=\"main\">\n                    <PanelHeader>\n\t\t\t\t\t\t{\n                            user ?\n                                <PanelHeaderContent\n                                    status=\"VK Apps Image Example\"\n                                    before={ <Avatar size={ 36 } src={ user.photo_100 } /> }\n                                >\n                                    { user.first_name }\n                                </PanelHeaderContent>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t'VK Apps Image Example'\n\t\t\t\t\t\t}\n                    </PanelHeader>\n\n                    <Group header={ <Header mode=\"secondary\">Задание</Header> }>\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\tУ нас есть мини-приложение, которое имеет возможность загружать изображения по внешней ссылке. Увы, в приложении допущена ошибка, из-за чего удаленный сервер получает параметры запуска пользователей, которые вставляют ссылку. Нужно объяснить почему так происходит и исправить ситуацию красиво и лаконично.\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t<Div>\n                            Для облегчения тестирования можно использовать картинку <Text weight=\"semibold\">https://service.pavel.im/image</Text> (good code — все круто, bad code — сервер получил параметры запуска)\n\t\t\t\t\t\t</Div>\n\n                        <FormLayout>\n                            <Input type=\"text\" id=\"url\" />\n\n                            <Button size=\"xl\" onClick={ this.getImage }>Загрузить</Button>\n                        </FormLayout>\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t!!image &&\n\t\t\t\t\t\t\t<Div style={{ textAlign: 'center' }}>\n                                <img src={ image } alt=\"remote file\" referrerpolicy=\"no-referrer\"/>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t}\n                    </Group>\n                </Panel>\n            </View>\n\t\t);\n\t}\n\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport bridge from '@vkontakte/vk-bridge';\nimport App from './App';\n\nbridge.send('VKWebAppInit', {});\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}